This is for the old homework.

Flask Routes

First part is just basic HTML to list the text and clickable link on the page.
<h1> is the header
<ul><li>is an unordered list
<a href> is the link. The text that follows is what visitors see. 

The @app.route tells Flask what URL should trigger which function. So when someone clicks on the precipitation link, the precipitation function is triggered. 

max_date = session.query(Measurement.date).order_by(Measurement.date.desc()).first()
This is finding the measurement dates, putting them in descending order and returning the first result.

max_date = max_date[0]
Makes it a tuple.

year_ago = dt.datetime.strptime(max_date, "%Y-%m-%d") - dt.timedelta(days=366)
Formats the date and returns data going back a year. 

results_precipitation = session.query(Measurement.date, Measurement.prcp).filter(Measurement.date >= year_ago).all()
Finds the precipitation values going back a year.

precipitation_dict = dict(results_precipitation)
Puts the results into a dictionary

return jsonify(precipitation_dict)
Displays results

np.ravel – Changes tuple into an array. Same as reshape.


If you want more, just let me know.
